<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Kisah Dibalik Dapur Sang Kholil (Kekasih Allah) | ACT-Elgharantaly</title>
<meta name="keywords" content="teladan" />
<meta name="description" content="Cuaca Madinah pagi itu begitu dingin. Sambil bersandar di sisi kiri mimbar, pandanganku tertuju ke arah makam Rasulullah. Tiba-tiba imajinasiku memaksaku melompat jauh ke masa silam, tepatnya di tahun terakhir kenabian.
Tahun itu&hellip; Kabilah-kabilah arab berbondong-bondong menyatakan masuk islam. Itu artinya tugas kenabian sebentar lagi usai. Menikmati masa-masa kemenangan adalah tabiat sebuah perjuangan. Tapi tidak bagi sosok yang mulia itu. Karena misi perjuangannya bukan untuk meraup harta, bukan pula untuk mengejar jabatan.">
<meta name="author" content="Aan Candra Talib">
<link rel="canonical" href="https://elgharantaly.github.io/posts/kisah-dibalik-dapur-sang-kholil-kekasih-allah/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.1b6d2c1a9c5d0fe00e0917d4503af2c80ef610276de460905167fff4cc12d0fc.css" integrity="sha256-G20sGpxdD&#43;AOCRfUUDryyA72ECdt5GCQUWf/9MwS0Pw=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://elgharantaly.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://elgharantaly.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://elgharantaly.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://elgharantaly.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://elgharantaly.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.84.1" />

<script async src="https://www.googletagmanager.com/gtag/js?id=G-4864QQMGSV"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-4864QQMGSV', { 'anonymize_ip': false });
}
</script>
<meta property="og:title" content="Kisah Dibalik Dapur Sang Kholil (Kekasih Allah)" />
<meta property="og:description" content="Cuaca Madinah pagi itu begitu dingin. Sambil bersandar di sisi kiri mimbar, pandanganku tertuju ke arah makam Rasulullah. Tiba-tiba imajinasiku memaksaku melompat jauh ke masa silam, tepatnya di tahun terakhir kenabian.
Tahun itu&hellip; Kabilah-kabilah arab berbondong-bondong menyatakan masuk islam. Itu artinya tugas kenabian sebentar lagi usai. Menikmati masa-masa kemenangan adalah tabiat sebuah perjuangan. Tapi tidak bagi sosok yang mulia itu. Karena misi perjuangannya bukan untuk meraup harta, bukan pula untuk mengejar jabatan." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://elgharantaly.github.io/posts/kisah-dibalik-dapur-sang-kholil-kekasih-allah/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-01-22T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2017-01-22T00:00:00&#43;00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Kisah Dibalik Dapur Sang Kholil (Kekasih Allah)"/>
<meta name="twitter:description" content="Cuaca Madinah pagi itu begitu dingin. Sambil bersandar di sisi kiri mimbar, pandanganku tertuju ke arah makam Rasulullah. Tiba-tiba imajinasiku memaksaku melompat jauh ke masa silam, tepatnya di tahun terakhir kenabian.
Tahun itu&hellip; Kabilah-kabilah arab berbondong-bondong menyatakan masuk islam. Itu artinya tugas kenabian sebentar lagi usai. Menikmati masa-masa kemenangan adalah tabiat sebuah perjuangan. Tapi tidak bagi sosok yang mulia itu. Karena misi perjuangannya bukan untuk meraup harta, bukan pula untuk mengejar jabatan."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://elgharantaly.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Kisah Dibalik Dapur Sang Kholil (Kekasih Allah)",
      "item": "https://elgharantaly.github.io/posts/kisah-dibalik-dapur-sang-kholil-kekasih-allah/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Kisah Dibalik Dapur Sang Kholil (Kekasih Allah)",
  "name": "Kisah Dibalik Dapur Sang Kholil (Kekasih Allah)",
  "description": "Cuaca Madinah pagi itu begitu dingin. Sambil bersandar di sisi kiri mimbar, pandanganku tertuju ke arah makam Rasulullah. Tiba-tiba imajinasiku memaksaku melompat jauh ke masa silam, tepatnya di tahun terakhir kenabian.\nTahun itu\u0026hellip; Kabilah-kabilah arab berbondong-bondong menyatakan masuk islam. Itu artinya tugas kenabian sebentar lagi usai. Menikmati masa-masa kemenangan adalah tabiat sebuah perjuangan. Tapi tidak bagi sosok yang mulia itu. Karena misi perjuangannya bukan untuk meraup harta, bukan pula untuk mengejar jabatan.",
  "keywords": [
    "teladan"
  ],
  "articleBody": "Cuaca Madinah pagi itu begitu dingin. Sambil bersandar di sisi kiri mimbar, pandanganku tertuju ke arah makam Rasulullah. Tiba-tiba imajinasiku memaksaku melompat jauh ke masa silam, tepatnya di tahun terakhir kenabian.\nTahun itu… Kabilah-kabilah arab berbondong-bondong menyatakan masuk islam. Itu artinya tugas kenabian sebentar lagi usai. Menikmati masa-masa kemenangan adalah tabiat sebuah perjuangan. Tapi tidak bagi sosok yang mulia itu. Karena misi perjuangannya bukan untuk meraup harta, bukan pula untuk mengejar jabatan. Bila Allah ridho, kalimat-Nya ditinggikan, syariat-Nya ditegakkan, maka itulah puncak pencapaian tertinggi.\nRaga suci itu letih, peluh di dahinya sesekali mengucur. Di atas tikar kasar raga itu terkulai, berbulan-bulan tak ada api yang mengepul di rumahnya.\nKondisi itu tidak hanya terjadi sekali, bahkan berkali-kali semenjak beliau diutus menjadi nabi.\nAbu Hurairah menuturkan, “Adakalanya sampai berbulan-bulan berlalu, namun di rumah Rasulullah tidak ada satupun lampu yang menyala, dapurnya pun tidak mengepul. Jika ada minyak, maka dijadikannya sebagai makanan.\nSering beliau tidur malam sedang keluarganya bolik-balik di atas tempat pembaringan karena kelaparan, tidak ada makan malam. Makanan mereka biasanya hanya roti yang terbuat dari syair yang kasar.” (HR. Tarmidzi).\nSang istri Aisyah radhiallahu anha menuturkan, “Sering kali kami melewati masa hingga 40 hari, sedang di rumah kami tidak pernah ada lampu yang menyala dan dapur kami tidak mengepul. Maka orang yang mendengar bertanya, ‘Jadi apa yang kalian makan untuk bertahan hidup?’ Ibu kita menjawab, “Kurma dan air saja, itu pun jika dapat.”(HR. Ahmad)\nAbu Hurairah berkata, “Aku pernah datang kepada Rasulullah ketika dia shalat sambil duduk, maka aku pun bertanya, ‘Ya Rasulullah, mengapa aku melihatmu shalat sambil duduk, apakah engkau sakit?’ Jawab beliau, ‘Aku lapar, wahai Abu Hurairah.’ Mendengar jawaban beliau, aku terus menangis sedih melihat keadaan beliau. Beliau merasa kasihan melihatku menangis, lalu beliau berkata, ‘Wahai Abu Hurairah, jangan menangis, karena beratnya penghisaban di hari kiamat nanti tidak akan menimpa orang yang hidupnya lapar di dunia jika dia menjaga dirinya di kehidupan dunia ini.” (HR. Muslim).\nIbnu Bujair berkata, “Pada suatu hari Rasulullah pernah merasa sangat lapar. Lalu beliau mengambil batu dan diikatkannya pada perutnya. Kemudian beliau bersabda, ‘Betapa banyak orang yang memilih makanan yang lembut di dunia ini kelak dia akan menjadi lapar dan telanjang pada hari kiamat! Dan betapa banyak orang yang memuliakan dirinya di sini, kelak dia akan dihinakan di akhirat. Dan betapa banyak orang yang menghinakan dirinya di sini, kelak dia akan dimuliakan di akhirat’.”\nDalam riwayat lain yang dikeluarkan oleh Baihaqi, Ummul mukminin menuturkan, “Rasulullah tidak pernah kenyang tiga hari berturut-turut. Sebenarnya jika kita mau, kita bisa kenyang, akan tetapi beliau selalu mengutamakan orang lain yang lapar daripada dirinya sendiri.”\nDoalog-dialog dalam kisah di atas seolah kusaksikan dengan mata kepalaku sendiri, tanpa terasa air mata ini mengalir.\nYa Allah….\nAlangkah kufurnya diri ini terhadap nikmat-Mu.\nEntah berapa kali diri ini merasakan kenyang, sementara syukur jarang terucap dan ibadah tak kunjung meningkat.\nAku teringat ucapan ummul mukmini Aisyah radhiallahu anha yang berbunyi, “Ujian yang pertama kali akan menimpa umat ini sesudah kepergian Rasulullah adalah kenyangannya perut! Apabila perut suatu kaum kenyang, badannya gemuk, maka lemahlah hatinya dan syahwatnyapun merajalela!” (HR. Bukhari).\nWal iyaadzu billah..\nSahabat…\nSebelum mengeluhkan dapurmu yang kekurangan ini dan itu, maka ingatlah dapur Rasulullah shallallahu alaihi wasallam…\nIngatlah rasulullah yang tak pernah kenyang sejak diutus menjadi nabi hingga wafatnya.\nSesekali bawalah imajinasimu mundur jauh ke masa-masa beliau hidup, lalu tanyakan pada dirimu, “Masikah pantas engkau mengeluhkan kondisi dapurmu yang serba kekurangan..?”\nCatatan:\nKesederhanaan Rasulullah adalah pilih an hidup, bukan keterpaksaan. Sebab bila beliau mau, maka gunung uhud akan dirubah menjadi emas untuknya, namun beliau menolak. Beliau menganggap kehidupan akhirat lebih baik daripada kehidupan dunia.\nRiwayat-riwayat di atas tidak mengajarkan kepada kita untuk selalu lapar dan miskin. Namun mengajarkan kepada kita agar mempunyai pola hidup sederhana. Dimana kita tetap berusaha dan bekerja keras, namun tidak menggantungkan semuanya kepada dunia. Prinsipnya, “Genggamlah dunia dengan tanganmu, jangan biarkan ia memasuki hatimu”\n Madinah, Disisi Raudhoh As-Syarif\n03 Rabi' As-Tsany 1438 H\nACT El-Gharantaly\n",
  "wordCount" : "647",
  "inLanguage": "en",
  "datePublished": "2017-01-22T00:00:00Z",
  "dateModified": "2017-01-22T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Aan Candra Talib"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://elgharantaly.github.io/posts/kisah-dibalik-dapur-sang-kholil-kekasih-allah/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "ACT-Elgharantaly",
    "logo": {
      "@type": "ImageObject",
      "url": "https://elgharantaly.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: #1d1e20;
                --entry: #2e2e33;
                --primary: rgba(255, 255, 255, 0.84);
                --secondary: rgba(255, 255, 255, 0.56);
                --tertiary: rgba(255, 255, 255, 0.16);
                --content: rgba(255, 255, 255, 0.74);
                --hljs-bg: #2e2e33;
                --code-bg: #37383e;
                --border: #333;
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://elgharantaly.github.io/" accesskey="h" title="ACT-Elgharantaly (Alt + H)">ACT-Elgharantaly</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://elgharantaly.github.io/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://elgharantaly.github.io/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://elgharantaly.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://elgharantaly.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Kisah Dibalik Dapur Sang Kholil (Kekasih Allah)
    </h1>
    <div class="post-meta">January 22, 2017&nbsp;·&nbsp;Aan Candra Talib&nbsp;|&nbsp;<a href="https://elgharantaly.github.io/saran" rel="noopener noreferrer" target="_blank">Sarankan Perbaikan</a>
</div>
  </header> 
  <div class="post-content"><p>Cuaca Madinah pagi itu begitu dingin. Sambil bersandar di sisi kiri mimbar, pandanganku tertuju ke arah makam Rasulullah. Tiba-tiba imajinasiku memaksaku melompat jauh ke masa silam, tepatnya di tahun terakhir kenabian.</p>
<p>Tahun itu&hellip; Kabilah-kabilah arab berbondong-bondong menyatakan masuk islam. Itu artinya tugas kenabian sebentar lagi usai. Menikmati masa-masa kemenangan adalah tabiat sebuah perjuangan. Tapi tidak bagi sosok yang mulia itu. Karena misi perjuangannya bukan untuk meraup harta, bukan pula untuk mengejar jabatan. Bila Allah ridho, kalimat-Nya ditinggikan, syariat-Nya ditegakkan, maka itulah puncak pencapaian tertinggi.</p>
<p>Raga suci itu letih, peluh di dahinya sesekali mengucur. Di atas tikar kasar raga itu terkulai, berbulan-bulan tak ada api yang mengepul di rumahnya.<br>
Kondisi itu tidak hanya terjadi sekali, bahkan berkali-kali semenjak beliau diutus menjadi nabi.</p>
<p>Abu Hurairah menuturkan, “Adakalanya sampai berbulan-bulan berlalu, namun di rumah Rasulullah tidak ada satupun lampu yang menyala, dapurnya pun tidak mengepul. Jika ada minyak, maka dijadikannya sebagai makanan.</p>
<p>Sering beliau tidur malam sedang keluarganya bolik-balik di atas tempat pembaringan karena kelaparan, tidak ada makan malam. Makanan mereka biasanya hanya roti yang terbuat dari syair yang kasar.” (HR. Tarmidzi).</p>
<p>Sang istri Aisyah radhiallahu anha menuturkan, “Sering kali kami melewati masa hingga 40 hari, sedang di rumah kami tidak pernah ada lampu yang menyala dan dapur kami tidak mengepul. Maka orang yang mendengar bertanya, ‘Jadi apa yang kalian makan untuk bertahan hidup?’ Ibu kita menjawab, &ldquo;Kurma dan air saja, itu pun jika dapat.”(HR. Ahmad)</p>
<p>Abu Hurairah berkata, “Aku pernah datang kepada Rasulullah ketika dia shalat sambil duduk, maka aku pun bertanya, ‘Ya Rasulullah, mengapa aku melihatmu shalat sambil duduk, apakah engkau sakit?’ Jawab beliau, ‘Aku lapar, wahai Abu Hurairah.’ Mendengar jawaban beliau, aku terus menangis sedih melihat keadaan beliau. Beliau merasa kasihan melihatku menangis, lalu beliau berkata, ‘Wahai Abu Hurairah, jangan menangis, karena beratnya penghisaban di hari kiamat nanti tidak akan menimpa orang yang hidupnya lapar di dunia jika dia menjaga dirinya di kehidupan dunia ini.” (HR. Muslim).</p>
<p>Ibnu Bujair berkata, “Pada suatu hari Rasulullah pernah merasa sangat lapar. Lalu beliau mengambil batu dan diikatkannya pada perutnya. Kemudian beliau bersabda, ‘Betapa banyak orang yang memilih makanan yang lembut di dunia ini kelak dia akan menjadi lapar dan telanjang pada hari kiamat! Dan betapa banyak orang yang memuliakan dirinya di sini, kelak dia akan dihinakan di akhirat. Dan betapa banyak orang yang menghinakan dirinya di sini, kelak dia akan dimuliakan di akhirat’.”</p>
<p>Dalam riwayat lain yang dikeluarkan oleh Baihaqi, Ummul mukminin menuturkan, “Rasulullah tidak pernah kenyang tiga hari berturut-turut. Sebenarnya jika kita mau, kita bisa kenyang, akan tetapi beliau selalu mengutamakan orang lain yang lapar daripada dirinya sendiri.”</p>
<p>Doalog-dialog dalam kisah di atas seolah kusaksikan dengan mata kepalaku sendiri, tanpa terasa air mata ini mengalir.</p>
<p>Ya Allah&hellip;.</p>
<p>Alangkah kufurnya diri ini terhadap nikmat-Mu.<br>
Entah berapa kali diri ini merasakan kenyang, sementara syukur jarang terucap dan ibadah tak kunjung meningkat.</p>
<p>Aku teringat ucapan ummul mukmini Aisyah radhiallahu anha yang berbunyi, “Ujian yang pertama kali akan menimpa umat ini sesudah kepergian Rasulullah adalah kenyangannya perut! Apabila perut suatu kaum kenyang, badannya gemuk, maka lemahlah hatinya dan syahwatnyapun merajalela!” (HR. Bukhari).</p>
<p>Wal iyaadzu billah..</p>
<p>Sahabat&hellip;<br>
Sebelum mengeluhkan dapurmu yang kekurangan ini dan itu, maka ingatlah dapur Rasulullah shallallahu alaihi wasallam&hellip;</p>
<p>Ingatlah rasulullah yang tak pernah kenyang sejak diutus menjadi nabi hingga wafatnya.</p>
<p>Sesekali bawalah imajinasimu mundur jauh ke masa-masa beliau hidup, lalu tanyakan pada dirimu, &ldquo;Masikah pantas engkau mengeluhkan kondisi dapurmu yang serba kekurangan..?&rdquo;</p>
<p>Catatan:<br>
Kesederhanaan Rasulullah adalah pilih an hidup, bukan keterpaksaan. Sebab bila beliau mau, maka gunung uhud akan dirubah menjadi emas untuknya, namun beliau menolak. Beliau menganggap kehidupan akhirat lebih baik daripada kehidupan dunia.</p>
<p>Riwayat-riwayat di atas tidak mengajarkan kepada kita untuk selalu lapar dan miskin. Namun mengajarkan kepada kita agar mempunyai pola hidup sederhana. Dimana kita tetap berusaha dan bekerja keras, namun tidak menggantungkan semuanya kepada dunia. Prinsipnya, &ldquo;Genggamlah dunia dengan tanganmu, jangan biarkan ia memasuki hatimu&rdquo;</p>
<hr>
<p>Madinah, Disisi Raudhoh As-Syarif<br>
03 Rabi' As-Tsany 1438 H<br>
ACT El-Gharantaly</p>

</div>
  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://elgharantaly.github.io/tags/teladan/"> teladan</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://elgharantaly.github.io/posts/perpisahan-yang-sesungguhnya/">
    <span class="title">« Prev Page</span>
    <br>
    <span>Perpisahan Yang Sesungguhnya</span>
  </a>
  <a class="next" href="https://elgharantaly.github.io/posts/belajar-mengenal-diri-sendiri-secara-jujur/">
    <span class="title">Next Page »</span>
    <br>
    <span>Renungan Malam</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    <footer class="footer">
    <span>&copy; 2021 <a href="https://elgharantaly.github.io/">ACT-Elgharantaly</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>

<script>
    let menu = document.getElementById('menu')
    menu.scrollLeft = localStorage.getItem("menu-scroll-position");
    menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
